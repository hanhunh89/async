# MSA 구축을 위한 비동기 서비스 사례

## 들어가면서
 어딜가나 MSA가 화제다. 내가 일했던 조직에서 진행했던 MSA 서비스를 관리하기 위한 비동기 프로젝트를 소개하고자 한다.<br>

 김또띠 과장은 오늘도 출근하자 마자 결재할 내용이 산더미다. 인사시스템에서 휴가/출장을, 재정시스템에서 법인카드 사용을,<br>
 보안시스템에서 외부인 출입신청을, 메일은 하루에 수십개씩 오고, 전자결재 시스템에서는 접수할 문서가 밀려있다.<br>
 이 모든것들을 결재할 때마다 각 기능에 접속을 해야 한다.<br> 가끔은 결재해야하는것을 잊을때도 있다.<br>
 사내 포탈에 접속했을 때 결재해야 할 내용에 대해 알람을 보내줄 수 없을까?<br>

 사내 "알림이" 시스템은 위와 같은 고민에서 시작되었다. <br>
 이 글에서 팀 편의기능에서 시작한 알림이가 전사적으로 전파되며 경험한 내용을 공유하고자 한다.

## 1. 팀장님 왜 결재 안해줘요?
 내가 일하던 회사는 보안에 아주 민감한 곳이었다. 외부인이 들어오려면 2일 전 보안부서에 신청을 해야했다.
a) "팀원 신청" b) "팀장 결재" c) "보안부서 결재"를 거치는 구조였다.
 너무나 바쁜 팀장은 결재하는것을 자주 잊어버렸다. 이럴땐 "긴급 출입" 기능을 이용했다. 장애대응이나 환자발생 등의 긴급 상황에 사용하는 기능이었다.
이 기능을 사용하면 일단 인원을 출입시키고 사후에 보안부서의 결재를 받았다. 팀장이 결재를 잊을때면  "긴급 출입"으로 외부인원 출입을 신청했다. 결국 감사팀에 적발되고 말았다.
 우리부서는 구조적으로 이러한 문제를 해결하고자 했다. "알림이" 탄생의 시작이었다.

  
## 2. 알림이 설계

사내 지원은 없았다. 버려지는 pc에 알림이 서버를 구축했다. 방법은 간단했다. 출입신청 시스템에서 결재대기 건수를 파싱했다.
그 자료를 우리 팀의 홈페이지 화면에 보여주었다. 아래의 그림과 유사하게 만들었다. 
![이미지 대체 텍스트](1.jpg)
팀 홈페이지가 로딩될 때마다 각 시스템에 접속해서 결재대기 건수를 파싱해왔다. 전자결재를 클릭하면 전자결재 화면으로 넘어가게 만들었다. 
거기서 내용을 검토하고, 결재할 수 있었다. 그 이후 팀장이 결재를 잊어버리는 일은 확 줄었다. 
